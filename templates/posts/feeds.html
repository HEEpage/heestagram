{% extends 'base.html' %}
{% load static %}

{% block style %}
<!-- 이미지 슬라이딩 구현을 위한 Splide 자바스크립트 라이브러리의 CSS 파일 사용 -->
<link rel="stylesheet" href="{% static 'splide/splide.css' %}">
{% endblock style %}

{% block content %}

{% include 'nav.html' %}

<div id="feeds" class="post-container">
    <!-- 전달된 Post QuerySet 객체를 순회 -->
    {% for post in posts %}
        {% with post.id|stringformat:"s" as post_id %}
            {% url 'posts:feeds' as action_redirect_to %}
            {% include 'posts/post.html' with action_redirect_url=action_redirect_to|add:'#post-'|add:post_id %}
        {% endwith %}
    {% endfor %}
</div>
{% endblock content %}

{% block script %}
<!-- 이미지 슬라이딩 구현을 위한 Splide 자바스크립트 라이브러리의 JS 파일 사용 -->
<script src="{% static 'splide/splide.js' %}"></script>
<script>
    const elms = document.getElementsByClassName('splide')
    for (let i = 0; i < elms.length; i++) {
        new Splide(elms[i]).mount();
    }
</script>
{% endblock script %}